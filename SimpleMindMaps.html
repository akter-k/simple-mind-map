<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="page-title">Simple Mind Map</title>
    <style>
        :root {
            --bg-color: #f8f9fa;
            --text-main: #343a40;
            --text-muted: #6c757d;
            --shadow: 0 2px 5px rgba(0,0,0,0.1);
            --accent: #007bff;
        }

        /* Цвета уровней (пастельные фоны) */
        .level-0 { background-color: #f0f2f5 !important; border-left: 5px solid #6c757d; }
        .level-1 { background-color: #e3f2fd !important; border-left: 5px solid #1976d2; }
        .level-2 { background-color: #e8f5e9 !important; border-left: 5px solid #388e3c; }
        .level-3 { background-color: #fffde7 !important; border-left: 5px solid #fbc02d; }
        .level-4 { background-color: #fce4ec !important; border-left: 5px solid #d81b60; }
        .level-default { background-color: #f3e5f5 !important; border-left: 5px solid #7b1fa2; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        header {
            padding: 1rem;
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            display: flex;
            gap: 10px;
            z-index: 10;
        }

        button {
            padding: 8px 15px;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        button:hover { background: #f0f0f0; }
        button.primary { background: var(--accent); color: white; border-color: #0056b3; }

        #canvas-viewport {
            flex: 1;
            overflow: hidden;
            position: relative;
            cursor: grab;
            background-color: var(--bg-color);
        }

        #canvas-viewport:active {
            cursor: grabbing;
        }

        #canvas-content {
            position: absolute;
            transform-origin: 0 0;
            padding: 2000px; /* Большой паддинг для перемещения */
            display: inline-block;
            pointer-events: none;
        }

        #root-container {
            pointer-events: auto;
        }

        .tree-node {
            display: flex;
            align-items: center;
            position: relative;
        }

        .node-content-wrapper {
            display: flex;
            flex-direction: column;
            margin: 9px 0;
            position: relative;
        }

        .node-item {
            padding: 8px 15px;
            border-radius: 6px;
            min-width: 180px;
            max-width: 400px;
            width: max-content;
            box-shadow: var(--shadow);
            position: relative;
            transition: transform 0.1s, box-shadow 0.2s;
            display: flex;
            flex-direction: column;
            z-index: 2;
        }

        .node-item:focus-within {
            box-shadow: 0 0 0 2px var(--accent);
        }

        .node-code {
            font-size: 0.75rem;
            font-weight: bold;
            color: var(--text-muted);
            outline: none;
            min-height: 1.2em;
            margin-bottom: 4px;
            border: 1px solid transparent;
            padding: 1px 4px;
            border-radius: 3px;
            width: fit-content;
        }

        .node-item:hover .node-code, .node-code:focus {
            border-color: #ccc;
            background: rgba(255,255,255,0.5);
        }

        .node-title {
            font-weight: normal;
            display: block;
            outline: none;
            min-height: 1.2em;
            padding: 2px;
            cursor: text;
            word-wrap: break-word;
            overflow-wrap: break-word;
            white-space: pre-wrap;
        }

        .node-controls {
            margin-top: 8px;
            display: flex;
            gap: 5px;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .node-item:hover .node-controls { opacity: 1; }

        .node-controls button {
            padding: 2px 6px;
            font-size: 10px;
        }

        .info-icon {
            position: absolute;
            bottom: 5px;
            right: 5px;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 1px solid var(--text-muted);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            cursor: pointer;
            color: var(--text-muted);
            transition: all 0.2s;
            background: transparent;
        }

        .info-icon.has-desc {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .collapse-toggle {
            position: absolute;
            right: -25px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 17px;
            border-radius: 50%;
            border: 2px solid var(--accent);
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            color: var(--accent);
            transition: all 0.2s;
            z-index: 10;
            user-select: none;
			padding-bottom: 3px;
        }

        .collapse-toggle:hover {
            background: var(--accent);
            color: white;
            transform: translateY(-50%) scale(1.1);
        }

        .children-container {
            display: flex;
            flex-direction: column;
            padding-left: 73px;
            position: relative;
            pointer-events: auto;
        }

        .children-container.collapsed {
            display: none;
        }

        /* Линии коннекторы - исправленное позиционирование вертикальной линии */
        .branch-line-v {
            position: absolute;
            left: -60px; /* Линия прижата к правому краю родителя, где начинаются горизонтальные линии */
            top: 0;
            bottom: 0;
            width: 2px;
            z-index: 1;
        }

        .branch-line-h {
            position: absolute;
            left: -60px;
            top: 50%;
            width: 60px;
            height: 2px;
            z-index: 1;
        }

        /* Хвосты вертикальных линий */
        .tree-node:first-child > .branch-line-v { top: 50%; }
        .tree-node:last-child > .branch-line-v { bottom: 50%; }
        .tree-node:only-child > .branch-line-v { display: none; }

        #details-panel {
            position: absolute;
            background: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            padding: 15px;
            border-radius: 6px;
            z-index: 100;
            display: none;
            flex-direction: column;
            pointer-events: auto;
        }

        #details-panel.open { display: flex; }

        textarea {
            flex: 1; width: 100%; padding: 10px;
            border: 1px solid #ddd; border-radius: 4px;
            resize: none; font-family: inherit;
        }

        .overlay {
            position: fixed; inset: 0;
            background: rgba(0,0,0,0.2);
            display: none; z-index: 15;
        }
        .overlay.active { display: block; }

        .zoom-controls {
            display: flex;
            gap: 5px;
            border-left: 1px solid #ddd;
            padding-left: 10px;
        }
    </style>
</head>
<body>

<header>
    <button id="btn-open" class="primary" onclick="openFile()" data-i18n="btn-open" style="display:none">Open</button>
    <button id="btn-save" class="primary" onclick="saveFile()" data-i18n="btn-save" style="display:none">Save</button>
    <button onclick="exportToJson()" data-i18n="btn-export">Export (JSON)</button>
    <button onclick="document.getElementById('fileInput').click()" data-i18n="btn-import">Import (JSON)</button>
    <input type="file" id="fileInput" style="display:none" onchange="importFromJson(event)">
    <button onclick="resetMap()" style="color: #dc3545" data-i18n="btn-clear">Clear All</button>

    <div class="zoom-controls">
        <button onclick="changeZoomManual(0.1)" data-i18n-title="zoom-in">+</button>
        <button onclick="resetZoom()" data-i18n-title="zoom-reset">100%</button>
        <button onclick="changeZoomManual(-0.1)" data-i18n-title="zoom-out">-</button>
    </div>

    <select id="language-select" onchange="changeLanguage(this.value)" style="margin-left: auto; padding: 8px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer; background: white;">
        <option value="en">English</option>
        <option value="ru">Русский</option>
    </select>

    <div style="margin-left: 10px; color: var(--text-muted); font-size: 0.85rem; align-self: center;" data-i18n-html="shortcuts">
        <b>Tab</b>: new | <b>Ctrl + Wheel</b>: zoom | <b>Drag</b>: move
    </div>
</header>

<div id="canvas-viewport">
    <div id="canvas-content">
        <div id="root-container"></div>
        <div id="details-panel">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                <strong id="panel-title" style="font-size: 0.9rem;" data-i18n="panel-title">Description</strong>
                <button onclick="closeDetails()" style="padding: 2px 8px; font-size: 16px;">×</button>
            </div>
            <textarea id="edit-desc" data-i18n-placeholder="desc-placeholder" placeholder="Enter description..." oninput="updateDescFromPanel()" style="width: 100%; min-height: 100px; padding: 8px; border: 1px solid #ddd; border-radius: 4px; resize: vertical; font-family: inherit; font-size: 0.9rem; box-sizing: border-box;"></textarea>
        </div>
    </div>
</div>

<div id="overlay" class="overlay" onclick="closeDetails()"></div>

<script>
    const BRANCH_COLORS = ['#6c757d', '#1976d2', '#388e3c', '#fbc02d', '#d81b60', '#7b1fa2', '#ff5722', '#009688'];

    let mindMapData = {
        id: "root",
        code: "ROOT",
        title: "Central Topic",
        description: "This is the root element of your map.",
        children: []
    };

    let collapsedNodes = new Set(); // Track which nodes are collapsed

    let currentLanguage = 'en';

    let selectedNodeId = null;
    let scale = 1;
    let posX = -1800;
    let posY = -1800;
    let isDragging = false;
    let startX, startY;
    let fileHandle = null; // Saved file reference

    const viewport = document.getElementById('canvas-viewport');
    const content = document.getElementById('canvas-content');

    window.onload = () => {
        render();
        initPanAndZoom();
        checkFileSystemAPISupport();
    };

    function render() {
        const container = document.getElementById('root-container');
        container.innerHTML = '';
        container.appendChild(createNodeElement(mindMapData, 0, null));
        applyTransform();
    }

    function createNodeElement(node, level, branchColor) {
        const wrapper = document.createElement('div');
        wrapper.className = 'tree-node';

        let currentColor = branchColor;
        if (level === 1) {
            const index = (wrapper.parentElement?.children?.length || 0) % BRANCH_COLORS.length;
            currentColor = BRANCH_COLORS[index];
        } else if (level === 0) {
            currentColor = '#ced4da';
        }

        if (level > 0) {
            const hLine = document.createElement('div');
            hLine.className = 'branch-line-h';
            hLine.style.backgroundColor = currentColor;
            wrapper.appendChild(hLine);

            const vLine = document.createElement('div');
            vLine.className = 'branch-line-v';
            vLine.style.backgroundColor = currentColor;
            wrapper.appendChild(vLine);
        }

        const contentWrapper = document.createElement('div');
        contentWrapper.className = 'node-content-wrapper';

        const item = document.createElement('div');
        const levelClass = level <= 4 ? `level-${level}` : 'level-default';
        item.className = `node-item ${levelClass}`;
        item.id = `item-${node.id}`;

        const code = document.createElement('span');
        code.className = 'node-code';
        code.contentEditable = true;
        code.innerText = node.code || "";
        code.onblur = () => { node.code = code.innerText; };
        code.onkeydown = (e) => { if(e.key === 'Enter') { e.preventDefault(); code.blur(); } };

        const title = document.createElement('span');
        title.className = 'node-title';
        title.contentEditable = true;
        title.innerText = node.title;

        title.onkeydown = (e) => {
            if (e.key === 'Enter') { e.preventDefault(); title.blur(); }
            if (e.key === 'Tab') { e.preventDefault(); addChild(node.id); }
        };

        title.onblur = () => {
            node.title = title.innerText;
        };

        const infoIcon = document.createElement('div');
        infoIcon.className = `info-icon ${node.description && node.description.trim() ? 'has-desc' : ''}`;
        infoIcon.innerHTML = 'i';
        infoIcon.onclick = (e) => { e.stopPropagation(); openDetails(node.id); };

        // Add collapse toggle button if node has children
        if (node.children && node.children.length > 0) {
            const collapseToggle = document.createElement('div');
            collapseToggle.className = 'collapse-toggle';
            const isCollapsed = collapsedNodes.has(node.id);
            collapseToggle.innerHTML = isCollapsed ? '+' : '−';
            collapseToggle.onclick = (e) => { e.stopPropagation(); toggleCollapse(node.id); };
            item.appendChild(collapseToggle);
        }

        const controls = document.createElement('div');
        controls.className = 'node-controls';

        const addBtn = document.createElement('button');
        addBtn.innerText = '+';
        addBtn.onclick = (e) => { e.stopPropagation(); addChild(node.id); };

        const delBtn = document.createElement('button');
        delBtn.innerText = '×';
        delBtn.style.color = 'red';
        delBtn.onclick = (e) => { e.stopPropagation(); deleteNode(node.id); };

        controls.appendChild(addBtn);
        if (node.id !== 'root') controls.appendChild(delBtn);

        item.appendChild(code);
        item.appendChild(title);
        item.appendChild(infoIcon);
        item.appendChild(controls);
        contentWrapper.appendChild(item);
        wrapper.appendChild(contentWrapper);

        if (node.children && node.children.length > 0) {
            const childrenContainer = document.createElement('div');
            const isCollapsed = collapsedNodes.has(node.id);
            childrenContainer.className = isCollapsed ? 'children-container collapsed' : 'children-container';
            node.children.forEach((child) => {
                const passColor = level === 0 ? null : currentColor;
                childrenContainer.appendChild(createNodeElement(child, level + 1, passColor));
            });
            wrapper.appendChild(childrenContainer);
        }

        return wrapper;
    }

    function initPanAndZoom() {
        viewport.onmousedown = (e) => {
            const isInput = e.target.closest('button, .node-title, .node-code, textarea, input');
            if (!isInput) {
                isDragging = true;
                startX = e.clientX - posX;
                startY = e.clientY - posY;
                e.preventDefault();
            }
        };

        window.onmousemove = (e) => {
            if (!isDragging) return;
            posX = e.clientX - startX;
            posY = e.clientY - startY;
            applyTransform();
        };

        window.onmouseup = () => { isDragging = false; };

        // Умный зум относительно мыши
        viewport.onwheel = (e) => {
            if (e.ctrlKey) {
                e.preventDefault();

                const zoomIntensity = 0.1;
                const wheel = e.deltaY < 0 ? 1 : -1;
                const zoom = Math.exp(wheel * zoomIntensity);

                // Координаты мыши относительно вьюпорта
                const rect = viewport.getBoundingClientRect();
                const mouseX = e.clientX - rect.left;
                const mouseY = e.clientY - rect.top;

                // Позиция мыши на холсте до зума
                const canvasX = (mouseX - posX) / scale;
                const canvasY = (mouseY - posY) / scale;

                const newScale = Math.min(Math.max(0.1, scale * zoom), 3);

                // Новое смещение, чтобы точка под мышью осталась на месте
                posX = mouseX - canvasX * newScale;
                posY = mouseY - canvasY * newScale;
                scale = newScale;

                applyTransform();
            }
        };

        // Закрытие панели при клике вне её
        window.addEventListener('click', (e) => {
            const panel = document.getElementById('details-panel');
            const isInfoIcon = e.target.closest('.info-icon');
            const isPanel = e.target.closest('#details-panel');

            if (panel.classList.contains('open') && !isPanel && !isInfoIcon) {
                closeDetails();
            }
        });
    }

    // Ручной зум кнопками (центр вьюпорта)
    function changeZoomManual(delta) {
        const rect = viewport.getBoundingClientRect();
        const centerX = rect.width / 2;
        const centerY = rect.height / 2;

        const canvasX = (centerX - posX) / scale;
        const canvasY = (centerY - posY) / scale;

        const newScale = Math.min(Math.max(0.1, scale + delta), 3);

        posX = centerX - canvasX * newScale;
        posY = centerY - canvasY * newScale;
        scale = newScale;

        applyTransform();
    }

    function resetZoom() {
        scale = 1; posX = -1800; posY = -1800;
        applyTransform();
    }

    function applyTransform() {
        content.style.transform = `translate(${posX}px, ${posY}px) scale(${scale})`;
    }

    function findNode(id, current = mindMapData) {
        if (current.id === id) return current;
        if (current.children) {
            for (let child of current.children) {
                let found = findNode(id, child);
                if (found) return found;
            }
        }
        return null;
    }

    function toggleCollapse(nodeId) {
        if (collapsedNodes.has(nodeId)) {
            collapsedNodes.delete(nodeId);
        } else {
            collapsedNodes.add(nodeId);
        }
        render();
    }

    function addChild(parentId) {
        const parent = findNode(parentId);
        if (parent) {
            if (!parent.children) parent.children = [];
            const newId = 'node-' + Date.now();
            parent.children.push({ id: newId, code: "", title: translations[currentLanguage]['new-subtopic'], description: "", children: [] });
            // Auto-expand parent when adding child
            collapsedNodes.delete(parentId);
            render();
            setTimeout(() => {
                const newItem = document.querySelector(`#item-${newId} .node-title`);
                if (newItem) { newItem.focus(); document.execCommand('selectAll', false, null); }
            }, 50);
        }
    }

    function deleteNode(id) {
        if (id === 'root') return;
        if (!confirm(translations[currentLanguage]['confirm-delete'])) return;
        const remove = (list) => {
            for (let i = 0; i < list.length; i++) {
                if (list[i].id === id) { list.splice(i, 1); return true; }
                if (list[i].children && remove(list[i].children)) return true;
            }
            return false;
        };
        remove(mindMapData.children);
        if (selectedNodeId === id) closeDetails();
        render();
    }

    function openDetails(id) {
        selectedNodeId = id;
        const node = findNode(id);
        if (node) {
            const panel = document.getElementById('details-panel');
            const nodeElement = document.getElementById(`item-${id}`);

            if (nodeElement) {
                // Позиция элемента относительно его родителя
                const nodeWidth = nodeElement.offsetWidth;
                const panelWidth = Math.max(nodeWidth + 40, 300);

                // Получаем позицию относительно canvas-content
                let offsetLeft = nodeElement.offsetLeft;
                let offsetTop = nodeElement.offsetTop + nodeElement.offsetHeight + 10;
                let parent = nodeElement.offsetParent;

                // Суммируем все смещения до canvas-content
                while (parent && parent.id !== 'canvas-content') {
                    offsetLeft += parent.offsetLeft;
                    offsetTop += parent.offsetTop;
                    parent = parent.offsetParent;
                }

                panel.style.left = offsetLeft + 'px';
                panel.style.top = offsetTop + 'px';
                panel.style.width = panelWidth + 'px';
            }

            document.getElementById('edit-desc').value = node.description || "";
            panel.classList.add('open');

            // Фокус на textarea
            setTimeout(() => document.getElementById('edit-desc').focus(), 50);
        }
    }

    function closeDetails() {
        document.getElementById('details-panel').classList.remove('open');
        selectedNodeId = null;
    }

    function updateDescFromPanel() {
        if (!selectedNodeId) return;
        const node = findNode(selectedNodeId);
        if (node) {
            node.description = document.getElementById('edit-desc').value;
            const icon = document.querySelector(`#item-${node.id} .info-icon`);
            if (icon) icon.className = `info-icon ${node.description.trim() ? 'has-desc' : ''}`;
        }
    }

    function checkFileSystemAPISupport() {
        // Check if File System Access API is supported
        if ('showOpenFilePicker' in window) {
            document.getElementById('btn-open').style.display = 'inline-flex';
        }
    }

    async function openFile() {
        try {
            [fileHandle] = await window.showOpenFilePicker({
                types: [{
                    description: 'JSON Files',
                    accept: {'application/json': ['.json']}
                }]
            });

            const file = await fileHandle.getFile();
            const contents = await file.text();

            mindMapData = JSON.parse(contents);
            collapsedNodes.clear();
            render();
            resetZoom();

            // Switch buttons: hide Open, show Save
            document.getElementById('btn-open').style.display = 'none';
            document.getElementById('btn-save').style.display = 'inline-flex';
        } catch (err) {
            if (err.name !== 'AbortError') {
                alert(translations[currentLanguage]['file-error'] || 'Error opening file: ' + err.message);
            }
        }
    }

    async function saveFile() {
        try {
            if (!fileHandle) {
                // If no file is open, show Save As dialog
                await saveFileAs();
                return;
            }

            const writable = await fileHandle.createWritable();
            await writable.write(JSON.stringify(mindMapData, null, 2));
            await writable.close();

            // Optional: brief visual feedback
            const btn = document.getElementById('btn-save');
            const originalText = btn.textContent;
            btn.textContent = translations[currentLanguage]['saved'] || '✓ Saved';
            setTimeout(() => btn.textContent = originalText, 1500);
        } catch (err) {
            alert(translations[currentLanguage]['file-error'] || 'Error saving file: ' + err.message);
        }
    }

    async function saveFileAs() {
        try {
            fileHandle = await window.showSaveFilePicker({
                types: [{
                    description: 'JSON Files',
                    accept: {'application/json': ['.json']}
                }],
                suggestedName: 'mind_map.json'
            });

            await saveFile();

            // Switch buttons: hide Open, show Save
            document.getElementById('btn-open').style.display = 'none';
            document.getElementById('btn-save').style.display = 'inline-flex';
        } catch (err) {
            if (err.name !== 'AbortError') {
                alert(translations[currentLanguage]['file-error'] || 'Error saving file: ' + err.message);
            }
        }
    }

    function exportToJson() {
        const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(mindMapData, null, 2));
        const a = document.createElement('a');
        a.href = dataStr; a.download = "mind_map.json"; a.click();
    }

    function importFromJson(event) {
        const file = event.target.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = (e) => {
            try { mindMapData = JSON.parse(e.target.result); render(); resetZoom(); } catch (err) { alert(translations[currentLanguage]['json-error']); }
        };
        reader.readAsText(file);
    }

    function resetMap() {
        if (confirm(translations[currentLanguage]['confirm-clear'])) {
            mindMapData = {
                id: "root",
                code: "ROOT",
                title: translations[currentLanguage]['root-title'],
                description: translations[currentLanguage]['root-desc'],
                children: []
            };
            fileHandle = null;
            document.getElementById('btn-open').style.display = 'inline-flex';
            document.getElementById('btn-save').style.display = 'none';
            render(); resetZoom(); closeDetails();
        }
    }

    // Language switching functionality
    function changeLanguage(lang) {
        currentLanguage = lang;
        document.documentElement.lang = lang;
        applyTranslations();
    }

    function applyTranslations() {
        const lang = currentLanguage;

        // Translate elements with data-i18n attribute
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (translations[lang] && translations[lang][key]) {
                el.textContent = translations[lang][key];
            }
        });

        // Translate elements with data-i18n-html attribute (for HTML content)
        document.querySelectorAll('[data-i18n-html]').forEach(el => {
            const key = el.getAttribute('data-i18n-html');
            if (translations[lang] && translations[lang][key]) {
                el.innerHTML = translations[lang][key];
            }
        });

        // Translate placeholders
        document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
            const key = el.getAttribute('data-i18n-placeholder');
            if (translations[lang] && translations[lang][key]) {
                el.placeholder = translations[lang][key];
            }
        });

        // Translate titles (tooltips)
        document.querySelectorAll('[data-i18n-title]').forEach(el => {
            const key = el.getAttribute('data-i18n-title');
            if (translations[lang] && translations[lang][key]) {
                el.title = translations[lang][key];
            }
        });
    }

    // Initialize language on page load
    window.addEventListener('DOMContentLoaded', () => {
        applyTranslations();
    });

    // ========================================
    // TRANSLATIONS DICTIONARY
    // ========================================
    const translations = {
        en: {
            'page-title': 'Simple Mind Map',
            'btn-open': 'Open',
            'btn-save': 'Save',
            'saved': '✓ Saved',
            'btn-export': 'Export (JSON)',
            'btn-import': 'Import (JSON)',
            'btn-clear': 'Clear All',
            'zoom-in': 'Zoom In',
            'zoom-reset': 'Reset Zoom',
            'zoom-out': 'Zoom Out',
            'shortcuts': '<b>Tab</b>: new | <b>Ctrl + Wheel</b>: zoom | <b>Drag</b>: move',
            'panel-title': 'Description',
            'desc-placeholder': 'Enter description...',
            'new-subtopic': 'New Subtopic',
            'root-title': 'Central Topic',
            'root-desc': 'This is the root element of your map.',
            'json-error': 'JSON Error',
            'file-error': 'File operation error',
            'confirm-clear': 'Clear the map?',
            'confirm-delete': 'Are you sure you want to delete this element?'
        },
        ru: {
            'page-title': 'Простой Mind Map',
            'btn-open': 'Открыть',
            'btn-save': 'Сохранить',
            'saved': '✓ Сохранено',
            'btn-export': 'Экспорт (JSON)',
            'btn-import': 'Импорт (JSON)',
            'btn-clear': 'Очистить всё',
            'zoom-in': 'Увеличить',
            'zoom-reset': 'Сбросить',
            'zoom-out': 'Уменьшить',
            'shortcuts': '<b>Tab</b>: новый | <b>Ctrl + Колесо</b>: зум | <b>Драг</b>: перемещение',
            'panel-title': 'Описание',
            'desc-placeholder': 'Введите описание...',
            'new-subtopic': 'Новая подтема',
            'root-title': 'Центральная тема',
            'root-desc': 'Это корневой элемент вашей карты.',
            'json-error': 'Ошибка JSON',
            'file-error': 'Ошибка работы с файлом',
            'confirm-clear': 'Очистить карту?',
            'confirm-delete': 'Вы уверены, что хотите удалить этот элемент?'
        }
    }
</script>

</body>
</html>
